
MESSAGE(STATUS "${PROJECT_BINARY_DIR}")

INCLUDE(ExternalProject)

CMAKE_MINIMUM_REQUIRED(VERSION 3.0)

PROJECT(Base)

SET(CMAKE_BUILD_TYPE Release)

SET(CMAKE_CXX_STANDARD 11)

LINK_DIRECTORIES(
  "${PROJECT_BINARY_DIR}/openal"
  "${PROJECT_BINARY_DIR}/alure"
)

ExternalProject_Add(
  OpenAL
  SOURCE_DIR "${PROJECT_SOURCE_DIR}/dist/openal-soft-1.18.2"
  BINARY_DIR "${PROJECT_BINARY_DIR}/openal"
  UPDATE_COMMAND ""
  INSTALL_COMMAND ""
)

ExternalProject_Add(
  alure
  DEPENDS OpenAL
  SOURCE_DIR "${PROJECT_SOURCE_DIR}/dist/alure"
  BINARY_DIR "${PROJECT_BINARY_DIR}/alure"
  UPDATE_COMMAND ""
  INSTALL_COMMAND ""
)

INCLUDE_DIRECTORIES(
  "${PROJECT_SOURCE_DIR}/dist/openal-soft-1.18.2/include"
  "${PROJECT_SOURCE_DIR}/dist/alure/include"
)

ADD_EXECUTABLE(main main.cpp)
ADD_DEPENDENCIES(main OpenAL alure)

TARGET_LINK_LIBRARIES(main openal alure2)
